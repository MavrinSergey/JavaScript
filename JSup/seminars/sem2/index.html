<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Seminar 2</title>
</head>

<body>
  <script>
    /*
    Давайте создадим класс для управления банковским счетом. В этом классе будет приватное
    свойство для хранения текущего баланса, а также методы для внесения и снятия денег со счета.
    1. Класс должен содержать приватное свойство #balance, которое инициализируется
    значением 0 и представляет собой текущий баланс счета.
    2. Реализуйте геттер balance, который позволит получить информацию о текущем балансе.
    3. Реализуйте метод deposit(amount), который позволит вносить средства на счет.
    Убедитесь, что сумма внесения не отрицательная; в противном случае выбрасывайте
    ошибку.
    4. Реализуйте метод withdraw(amount), который позволит снимать средства со счета.
    Убедитесь, что сумма для снятия неотрицательная и что на счете достаточно средств; в
    противном случае выбрасывайте ошибку.
    5. Реализуйте конструктор, который принимает начальный баланс в качестве аргумента.
    Убедитесь, что начальный баланс не отрицательный; в противном случае выбрасывайте
    ошибку.
    */

    class BankAccaunt {
      #balance = 0;

      get balance() {
        return this.#balance;
      }

      deposit(amount) {
        chekedAmount(amount);
        this.#balance = this.#balance + amount;
      }

      withdraw(amount) {
        chekedAmount(amount);
        if (amount > this.#balance) {
          throw new Error("Недостаточно средств");
        }
        this.#balance = this.#balance - amount;
      }

      constructor(cash) {
        chekedAmount(cash);
        this.#balance = cash;
      }
    }



    const newAc = new BankAccaunt(10);
    console.log(newAc.balance);
    newAc.deposit(10);
    console.log(newAc.balance);
    newAc.withdraw(20);
    console.log(newAc.balance);


    function chekedAmount(amount) {
      if (typeof amount !== 'number' || amount < 0) {
        throw new Error("сумма не может быть отрицательной");
      }
    }


    /*
    У вас есть базовый список пользователей. Некоторые из них имеют информацию о своем премиум-аккаунте, а некоторые – нет.
    Ваша задача – создать структуру классов для этих пользователей и функцию для получения информации о
    наличии премиум-аккаунта, используя Опциональную цепочку вызовов методов, оператор нулевого слияния
    и instanceof.
    1. Создайте базовый класс User с базовой информацией (например, имя и фамилия).
    2. Создайте классы PremiumUser и RegularUser, которые наследуются от User. Класс
    PremiumUser должен иметь свойство premiumAccount (допустим, дата истечения срока
    действия), а у RegularUser такого свойства нет.
    3. Создайте функцию getAccountInfo(user), которая принимает объект класса User и
    возвращает информацию о наличии и сроке действия премиум-аккаунта, используя
    Опциональную цепочку вызовов методов и оператор нулевого слияния.
    4. В функции getAccountInfo используйте instanceof для проверки типа переданного
    пользователя и дайте соответствующий ответ.
    
    */

    class User {
      constructor(firstname, lastname) {
        this.firstname = firstname;
        this.lastname = lastname;
      }
    }

    class PremiumUser extends User {
      premiumAccount = true;
    }

    class RegularUser extends User {

    }


    function getAccountInfo(user) {
      if (user instanceof User) {
        return user.premiumAccount ?? "Не премиум аккаунт";
      }

    }

    const user1 = new PremiumUser('Gthdsq', "Dnjhjq");
    const user2 = new RegularUser('Gthdsq', "Dnjhjq");
    console.log(getAccountInfo(user1));













  </script>
</body>

</html>